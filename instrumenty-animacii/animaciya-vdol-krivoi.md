# Анимация вдоль кривой

**Анимация вдоль кривой** представляет собой метод анимирования объектов, при котором их движение ограничено траекторией, задаваемой кривой.&#x20;

На видео ниже представлен пример использования данного метода. В данной анимации используется всего два фиксатора: для указания точки начала и конца.

<figure><img src="../.gitbook/assets/Synfig Animation 1.gif" alt=""><figcaption><p>Анимация вдоль кривой</p></figcaption></figure>

При этом, траекторию движения (кривую) можно скрыть, выключив слой на панели слоёв.

<figure><img src="../.gitbook/assets/Synfig Animation 2.gif" alt=""><figcaption><p>Анимация вдоль кривой без отображения пути.</p></figcaption></figure>

Для того, чтобы воспользоваться этой функцией, нужно:

1. Создать или добавить объект, который будет анимироваться вдоль кривой и поместить его в группу;
2. Создать кривую, вдоль которой будет двигаться объект
3. Привязать точку позиции объекта к кривой.

### Пошаговая инструкция

Создаем произвольный объект. Для наглядности создадим стрелку с помощью инструмента [“кривые”,](../osnovnye-principy/instrumenty.md#instrument-krivye) так мы будем видеть направление движения.

<figure><img src="../.gitbook/assets/create.gif" alt=""><figcaption><p>Создание объекта</p></figcaption></figure>

Далее, выделяем все вершины стрелки и перемещаем их таким образом, чтобы они были вокруг точки позиции по центру рабочей области. Так мы задаем центр вращения для стрелки.

<figure><img src="../.gitbook/assets/movecursor.gif" alt=""><figcaption><p>Смещение объекта для выставления его центра</p></figcaption></figure>

{% hint style="info" %}
Шаг выше можно пропустить, при условии если вы выставите центр вращения группы со стрелкой на следующем шаге. Как это сделать смотрите в разделе "параметры слоя", рисунок 16.
{% endhint %}

Помещаем слои кривую и область, которые являются нашей стрелкой, в группу.

<figure><img src="../.gitbook/assets/group.gif" alt=""><figcaption><p>Группирование слоев</p></figcaption></figure>

{% hint style="info" %}
Обратите внимание, что если вы хотите таким же способом анимировать растровое изображение, то помещать его в группу не нужно, так как в Synfig Studio импортированное изображение технически является слоем переключателем, у которого точки управления идентичны с группой. Подробнее о слое-переключателе смотрите в разделе "Слой-переключатель".
{% endhint %}

Выбираем инструмент “кривые” и создаем произвольную кривую - путь, по которому будет двигаться наша стрелка.

<figure><img src="../.gitbook/assets/way.gif" alt=""><figcaption><p>Построение кривой</p></figcaption></figure>

На панели слоев выделяем группу со стрелкой, на рабочей области выделяем зеленую точку позиции группы. Затем, зажав клавишу ctrl, выделяем слой с кривой (путь для стрелки) и на рабочей области нажимаем правой кнопки мыши на любом месте кривой, кроме вершин. В появившемся окне нажимаем “привязать к кривой”.

<figure><img src="../.gitbook/assets/link.gif" alt=""><figcaption><p>Привязка объекта к кривой</p></figcaption></figure>

Выставляем стрелке нужную позицию, размер, поворот. Включаем режим анимации, переходим на любой кадр, переносим за точку позиции группу со стрелкой в финальную позицию, например, на конец кривой.&#x20;

<figure><img src="../.gitbook/assets/anim.gif" alt=""><figcaption><p>Анимирование вдоль кривой</p></figcaption></figure>

Обратите внимание, если поставить ещё один кадр, чтобы стрелка вернулась в начальную позицию, стрелка будет двигаться “задним ходом”.

<figure><img src="../.gitbook/assets/revers-nospeed.gif" alt=""><figcaption><p>Демонстрация работы анимации вдоль кривой</p></figcaption></figure>

Чтобы стрелка разворачивалась, нужно в режиме анимации развернуть её в нужном направлении (в любой момент анимации), а получившийся кадр передвинуть на шкале кадров в тот момент, когда стрелка должна развернуться. Затем у этого кадра поставить тип интерполяции “константа”.

{% hint style="info" %}
Подробнее о типах интерполяции смотрите в разделе “Фиксаторы”
{% endhint %}

<figure><img src="../.gitbook/assets/turn.gif" alt=""><figcaption><p>Анимация вдоль кривой</p></figcaption></figure>

